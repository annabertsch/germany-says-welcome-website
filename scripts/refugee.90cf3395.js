function showHome(){$("#home").show(),$("#dashboard").hide(),$("#faq").hide(),$("#map_container").hide(),$("#nav").removeClass("fixed"),$("#nav li.active").removeClass("active"),$("#nav a#home_link").parent().addClass("active")}function showDashboard(){$("#home").hide(),$("#dashboard").show(),$("#faq").hide(),$("#map_container").hide(),$("#nav").removeClass("fixed"),$("#nav li.active").removeClass("active"),$("#nav a#dashboard_link").parent().addClass("active"),angular.element("#dashboard").scope().loadDashboard()}function showFAQ(){$("#home").hide(),$("#dashboard").hide(),$("#faq").show(),$("#map_container").hide(),$("#nav").removeClass("fixed"),$("#nav li.active").removeClass("active"),$("#nav a#faq_link").parent().addClass("active"),angular.element("#faq").scope().loadFAQ()}function showMap(){$("#home").hide(),$("#dashboard").hide(),$("#faq").hide(),$("#map_container").show(),$("#nav").removeClass("fixed"),$("#nav li.active").removeClass("active"),$("#nav a#map_link").parent().addClass("active"),angular.element("#map").scope().loadMap()}MAIN_URL="http://gsw.pajowu.de/api/",$(document).ready(function(){showHome(),angular.module("jm.i18next").config(["$i18nextProvider",function(a){a.options={lng:"de",useCookie:!1,useLocalStorage:!1,fallbackLng:"en",resGetPath:"locales/__lng__/__ns__.json",defaultLoadingValue:"",ns:{namespaces:["refugee"]}}}]);var a=angular.module("gsw",["nemLogging","leaflet-directive","jm.i18next"]);a.controller("FAQController",["$scope","$http",function(a,b){a.faqData={},a.audiences={},a.loadFAQ=function(){b.get(MAIN_URL+"audiences/").success(function(b){b.forEach(function(b,c){a.audiences[b.id]=b.name})});for(var c=1;3>=c;c++)b.get(MAIN_URL+"faq/by-audience/"+c).success(function(b){return function(c){a.faqData[b]=c}}(c)).error(function(b){return function(){a.faqData[b]=[]}}(c))}}]),a.controller("DashboardController",["$scope","$http",function(a,b){a.audiences={},a.colWidth=12,a.dashboardCards=[{name:"FAQ"},{name:"Map"}],a.loadDashboard=function(){b.get(MAIN_URL+"audiences/").success(function(b){b.forEach(function(b,c){a.audiences[b.id]=b.name}),a.colWidth=Math.floor(12/b.length)})}}]),a.controller("POIController",["$scope","$http","leafletData",function(a,b,c){a.authorities=L.markerClusterGroup(),a.wifi=L.markerClusterGroup(),a.misc=L.markerClusterGroup(),a.loadMap=function(){c.getMap().then(function(b){var c={Authorities:a.authorities,Wifi:a.wifi,Misc:a.misc};void 0!=a.mapLayer&&b.removeControl(a.mapLayer),a.mapLayer=L.control.layers(c),a.mapLayer.addTo(b),mapLink='<a href="http://openstreetmap.org">OpenStreetMap</a>',L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; "+mapLink+" Contributors",maxZoom:18}).addTo(b),b.invalidateSize()})},b.get(MAIN_URL+"poi/").success(function(b,c){a.data=b,authorities=[],wifi=[],misc=[],b.forEach(function(a,b){switch(geoj=a.location,geoj.properties=a,a.type){case"authorities":authorities.push(geoj);break;case"wifi":wifi.push(geoj);break;default:misc.push(geoj)}}),a.authorities.addLayer(L.geoJson(authorities,{onEachFeature:function(a,b){b.bindPopup(a.properties.description)}})),a.wifi.addLayer(L.geoJson(wifi,{onEachFeature:function(a,b){b.bindPopup(a.properties.description)}})),a.misc.addLayer(L.geoJson(misc,{onEachFeature:function(a,b){b.bindPopup(a.properties.description)}}))}),angular.extend(a,{layers:[a.authorities],center:{lat:50.9485795,lng:6.9448561,zoom:13}})}]),angular.element(document).ready(function(){angular.bootstrap(document,["gsw"])})}),$(".navmenu-fixed-left").offcanvas({placement:"left",autohide:"true",recalc:"true"}),function(a){"use strict";a("a.page-scroll").bind("click",function(b){var c=a(this);a("html, body").stop().animate({scrollTop:a(c.attr("href")).offset().top-50},1250,"easeInOutExpo"),b.preventDefault()}),a("html").scrollspy({target:".navbar-fixed-top",offset:51}),a(".navbar-collapse ul li a").click(function(){a(".navbar-toggle:visible").click()}),a("h1").fitText(1.2,{minFontSize:"35px",maxFontSize:"65px"}),a("#mainNav").affix({offset:{top:100}}),(new WOW).init()}(jQuery),$(document).ready(function(){var a=navigator.language;$.i18n.init({fallbackLng:"en"}),a.match("de")?$.i18n.setLng("de",function(){console.log("Websitesprache: de"),$("#de").addClass("active"),$("#flag_de").show(),$("#flag_en").hide(),$("[data-i18n]").i18n()}):$.i18n.setLng("en",function(){console.log("Websitesprache: en"),$("#en").addClass("active"),$("#flag_de").hide(),$("#flag_en").show(),$("[data-i18n]").i18n()})});